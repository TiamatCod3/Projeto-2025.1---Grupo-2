<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@2.0.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.0.0"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF66B2', // Pink
                        secondary: '#9966CC', // Purple
                        dark: '#2D2D3F', // Dark gray
                        darkLight: '#3D3D4F', // Lighter dark gray
                        light: '#F8F0F4', // Light pink/white
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #2D2D3F;
            color: #F8F0F4;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .date-picker {
            background-color: #3D3D4F;
            color: #F8F0F4;
            border: 1px solid #FF66B2;
            border-radius: 0.375rem;
            padding: 0.5rem;
        }
        .custom-select {
            background-color: #3D3D4F;
            color: #F8F0F4;
            border: 1px solid #FF66B2;
            border-radius: 0.375rem;
            padding: 0.5rem;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23FF66B2' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em;
            padding-right: 2.5rem;
        }
        .card {
            background-color: #3D3D4F;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .gradient-border {
            position: relative;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        .gradient-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #FF66B2, #9966CC);
            z-index: -1;
            border-radius: 0.6rem;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.absolute{position:absolute}.relative{position:relative}.right-3{right:0.75rem}.top-1\.5{top:0.375rem}.-mb-px{margin-bottom:-1px}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-3{margin-left:0.75rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-80{height:20rem}.min-h-screen{min-height:100vh}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-full{width:100%}.flex-1{flex:1 1 0%}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.space-x-4 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-t{border-top-width:1px}.border-primary{--tw-border-opacity:1;border-color:rgb(255 102 178 / var(--tw-border-opacity, 1))}.border-primary\/20{border-color:rgb(255 102 178 / 0.2)}.border-primary\/30{border-color:rgb(255 102 178 / 0.3)}.bg-dark{--tw-bg-opacity:1;background-color:rgb(45 45 63 / var(--tw-bg-opacity, 1))}.bg-darkLight{--tw-bg-opacity:1;background-color:rgb(61 61 79 / var(--tw-bg-opacity, 1))}.bg-primary\/10{background-color:rgb(255 102 178 / 0.1)}.bg-secondary\/10{background-color:rgb(153 102 204 / 0.1)}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-primary{--tw-gradient-from:#FF66B2 var(--tw-gradient-from-position);--tw-gradient-to:rgb(255 102 178 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-secondary{--tw-gradient-to:#9966CC var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-2{padding:0.5rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-light{--tw-text-opacity:1;color:rgb(248 240 244 / var(--tw-text-opacity, 1))}.text-light\/50{color:rgb(248 240 244 / 0.5)}.text-light\/70{color:rgb(248 240 244 / 0.7)}.text-light\/80{color:rgb(248 240 244 / 0.8)}.text-primary{--tw-text-opacity:1;color:rgb(255 102 178 / var(--tw-text-opacity, 1))}.text-secondary{--tw-text-opacity:1;color:rgb(153 102 204 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.hover\:text-primary:hover{--tw-text-opacity:1;color:rgb(255 102 178 / var(--tw-text-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-primary:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(255 102 178 / var(--tw-ring-opacity, 1))}@media (min-width: 768px){.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}@media (min-width: 1024px){.lg\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}}</style></head>
<body>
    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-dark border-b border-primary/30 py-4 px-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3 3a1 1 0 000 2h14a1 1 0 100-2H3zm0 6a1 1 0 000 2h14a1 1 0 100-2H3zm0 6a1 1 0 100 2h14a1 1 0 100-2H3z" clip-rule="evenodd"></path>
                    </svg>
                    <h1 class="ml-3 text-2xl font-bold bg-gradient-to-r from-primary to-secondary inline-block text-transparent bg-clip-text">StockVision</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <input type="text" placeholder="Search..." class="bg-darkLight text-light rounded-full py-1 px-4 focus:outline-none focus:ring-2 focus:ring-primary">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary absolute right-3 top-1.5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div class="w-8 h-8 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                        <span class="text-light font-medium">JS</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1 p-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold mb-4">Stock Analysis Dashboard</h2>
                
                <!-- Filters -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="gradient-border">
                        <div class="card p-4">
                            <label class="block text-sm font-medium mb-2 text-light/80">Select Stock</label>
                            <select id="stockSelect" class="custom-select w-full">
                                <option value="AAPL">Apple Inc. (AAPL)</option>
                                <option value="MSFT">Microsoft Corp. (MSFT)</option>
                                <option value="GOOGL">Alphabet Inc. (GOOGL)</option>
                                <option value="AMZN">Amazon.com Inc. (AMZN)</option>
                                <option value="TSLA">Tesla Inc. (TSLA)</option>
                                <option value="META">Meta Platforms Inc. (META)</option>
                            </select>
                        </div>
                    </div>
                    <div class="gradient-border">
                        <div class="card p-4">
                            <label class="block text-sm font-medium mb-2 text-light/80">Start Date</label>
                            <input type="date" id="startDate" class="date-picker w-full" value="2023-01-01">
                        </div>
                    </div>
                    <div class="gradient-border">
                        <div class="card p-4">
                            <label class="block text-sm font-medium mb-2 text-light/80">End Date</label>
                            <input type="date" id="endDate" class="date-picker w-full" value="2023-06-30">
                        </div>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                    <div class="gradient-border">
                        <div class="card p-4">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-light/70 text-sm">Current Price</p>
                                    <h3 class="text-2xl font-bold text-primary">$182.63</h3>
                                    <p class="text-green-400 text-sm">+1.24 (0.68%)</p>
                                </div>
                                <div class="bg-primary/10 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="gradient-border">
                        <div class="card p-4">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-light/70 text-sm">Market Cap</p>
                                    <h3 class="text-2xl font-bold text-secondary">$2.87T</h3>
                                    <p class="text-green-400 text-sm">+0.72%</p>
                                </div>
                                <div class="bg-secondary/10 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="gradient-border">
                        <div class="card p-4">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-light/70 text-sm">52-Week High</p>
                                    <h3 class="text-2xl font-bold text-primary">$198.23</h3>
                                    <p class="text-light/70 text-sm">Jun 15, 2023</p>
                                </div>
                                <div class="bg-primary/10 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 11l7-7 7 7M5 19l7-7 7 7"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="gradient-border">
                        <div class="card p-4">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-light/70 text-sm">52-Week Low</p>
                                    <h3 class="text-2xl font-bold text-secondary">$124.17</h3>
                                    <p class="text-light/70 text-sm">Jan 03, 2023</p>
                                </div>
                                <div class="bg-secondary/10 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 13l-7 7-7-7m14-8l-7 7-7-7"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chart Tabs -->
                <div class="gradient-border">
                    <div class="card">
                        <div class="border-b border-primary/20">
                            <nav class="flex -mb-px">
                                <button class="tab-button text-primary border-b-2 border-primary px-6 py-3 font-medium" data-tab="candlestick">
                                    Candlestick
                                </button>
                                <button class="tab-button text-light/70 hover:text-primary px-6 py-3 font-medium" data-tab="highs">
                                    Highs
                                </button>
                                <button class="tab-button text-light/70 hover:text-primary px-6 py-3 font-medium" data-tab="moving-average">
                                    Moving Average
                                </button>
                                <button class="tab-button text-light/70 hover:text-primary px-6 py-3 font-medium" data-tab="volume">
                                    Volume
                                </button>
                            </nav>
                        </div>
                        <div class="p-4">
                            <div id="candlestick" class="tab-content active">
                                <h3 class="text-xl font-bold mb-4">Candlestick Chart</h3>
                                <div class="h-80">
                                    <canvas id="candlestickChart"></canvas>
                                </div>
                            </div>
                            <div id="highs" class="tab-content">
                                <h3 class="text-xl font-bold mb-4">Highs Chart</h3>
                                <div class="h-80">
                                    <canvas id="highsChart"></canvas>
                                </div>
                            </div>
                            <div id="moving-average" class="tab-content">
                                <h3 class="text-xl font-bold mb-4">Moving Average Chart</h3>
                                <div class="h-80">
                                    <canvas id="movingAverageChart"></canvas>
                                </div>
                            </div>
                            <div id="volume" class="tab-content">
                                <h3 class="text-xl font-bold mb-4">Volume Chart</h3>
                                <div class="h-80">
                                    <canvas id="volumeChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-dark border-t border-primary/30 py-4 px-6 text-center text-light/50 text-sm">
            <p>Â© 2023 StockVision Dashboard. All data is for demonstration purposes only.</p>
        </footer>
    </div>

    <script>
        // Tab functionality
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons and contents
                    tabButtons.forEach(btn => {
                        btn.classList.remove('text-primary', 'border-b-2', 'border-primary');
                        btn.classList.add('text-light/70');
                    });
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Add active class to clicked button and corresponding content
                    button.classList.add('text-primary', 'border-b-2', 'border-primary');
                    button.classList.remove('text-light/70');
                    const tabId = button.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                    
                    // Render the chart for the active tab
                    renderCharts(tabId);
                });
            });
            
            // Initial chart rendering
            renderCharts('candlestick');
        });
        
        // Generate sample data
        function generateSampleData() {
            const startDate = new Date('2023-01-01');
            const endDate = new Date('2023-06-30');
            const data = [];
            
            let currentDate = new Date(startDate);
            let price = 150 + Math.random() * 20;
            
            while (currentDate <= endDate) {
                if (currentDate.getDay() !== 0 && currentDate.getDay() !== 6) { // Skip weekends
                    const volatility = Math.random() * 5;
                    const open = price;
                    const close = open + (Math.random() - 0.5) * volatility;
                    const high = Math.max(open, close) + Math.random() * 2;
                    const low = Math.min(open, close) - Math.random() * 2;
                    const volume = Math.floor(Math.random() * 10000000) + 5000000;
                    
                    data.push({
                        date: new Date(currentDate),
                        open,
                        high,
                        low,
                        close,
                        volume
                    });
                    
                    price = close;
                }
                
                currentDate.setDate(currentDate.getDate() + 1);
            }
            
            return data;
        }
        
        // Calculate moving averages
        function calculateMovingAverage(data, period) {
            const result = [];
            
            for (let i = 0; i < data.length; i++) {
                if (i < period - 1) {
                    result.push(null);
                } else {
                    let sum = 0;
                    for (let j = 0; j < period; j++) {
                        sum += data[i - j].close;
                    }
                    result.push(sum / period);
                }
            }
            
            return result;
        }
        
        // Render charts
        function renderCharts(activeTab) {
            const data = generateSampleData();
            const dates = data.map(item => item.date);
            const primaryColor = '#FF66B2';
            const secondaryColor = '#9966CC';
            
            if (activeTab === 'candlestick' || activeTab === 'all') {
                const ctx = document.getElementById('candlestickChart').getContext('2d');
                
                // Clear previous chart if it exists
                if (window.candlestickChart) {
                    window.candlestickChart.destroy();
                }
                
                // Create new chart
                window.candlestickChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: dates,
                        datasets: [{
                            label: 'AAPL',
                            data: data.map((item, index) => ({
                                x: index,
                                o: item.open,
                                h: item.high,
                                l: item.low,
                                c: item.close
                            })),
                            backgroundColor: data.map(item => item.open > item.close ? '#FF66B2' : '#9966CC'),
                            borderColor: data.map(item => item.open > item.close ? '#FF66B2' : '#9966CC'),
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                type: 'time',
                                time: {
                                    unit: 'day',
                                    tooltipFormat: 'MMM d, yyyy'
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            },
                            y: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const dataPoint = data[context.dataIndex];
                                        return [
                                            `Open: $${dataPoint.open.toFixed(2)}`,
                                            `High: $${dataPoint.high.toFixed(2)}`,
                                            `Low: $${dataPoint.low.toFixed(2)}`,
                                            `Close: $${dataPoint.close.toFixed(2)}`
                                        ];
                                    }
                                }
                            },
                            legend: {
                                display: false
                            }
                        }
                    }
                });
                
                // Custom rendering for candlesticks
                const originalDraw = window.candlestickChart.draw;
                window.candlestickChart.draw = function() {
                    originalDraw.apply(this, arguments);
                    
                    const meta = this.getDatasetMeta(0);
                    const ctx = this.ctx;
                    
                    meta.data.forEach((bar, index) => {
                        const dataPoint = data[index];
                        const xScale = this.scales.x;
                        const yScale = this.scales.y;
                        
                        const x = xScale.getPixelForValue(dates[index]);
                        const openY = yScale.getPixelForValue(dataPoint.open);
                        const highY = yScale.getPixelForValue(dataPoint.high);
                        const lowY = yScale.getPixelForValue(dataPoint.low);
                        const closeY = yScale.getPixelForValue(dataPoint.close);
                        
                        const width = xScale.getPixelForValue(1) - xScale.getPixelForValue(0);
                        const barWidth = Math.max(1, width * 0.8);
                        
                        const color = dataPoint.open > dataPoint.close ? primaryColor : secondaryColor;
                        
                        // Draw the high-low line
                        ctx.beginPath();
                        ctx.strokeStyle = color;
                        ctx.lineWidth = 1;
                        ctx.moveTo(x, highY);
                        ctx.lineTo(x, lowY);
                        ctx.stroke();
                        
                        // Draw the body
                        ctx.fillStyle = color;
                        ctx.fillRect(
                            x - barWidth / 2,
                            openY,
                            barWidth,
                            closeY - openY
                        );
                    });
                };
                
                window.candlestickChart.update();
            }
            
            if (activeTab === 'highs' || activeTab === 'all') {
                const ctx = document.getElementById('highsChart').getContext('2d');
                
                // Clear previous chart if it exists
                if (window.highsChart) {
                    window.highsChart.destroy();
                }
                
                // Create new chart
                window.highsChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: dates,
                        datasets: [{
                            label: 'High',
                            data: data.map(item => item.high),
                            borderColor: primaryColor,
                            backgroundColor: 'rgba(255, 102, 178, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                type: 'time',
                                time: {
                                    unit: 'day',
                                    tooltipFormat: 'MMM d, yyyy'
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            },
                            y: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `High: $${context.parsed.y.toFixed(2)}`;
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            if (activeTab === 'moving-average' || activeTab === 'all') {
                const ctx = document.getElementById('movingAverageChart').getContext('2d');
                
                // Calculate moving averages
                const ma20 = calculateMovingAverage(data, 20);
                const ma50 = calculateMovingAverage(data, 50);
                
                // Clear previous chart if it exists
                if (window.movingAverageChart) {
                    window.movingAverageChart.destroy();
                }
                
                // Create new chart
                window.movingAverageChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: dates,
                        datasets: [{
                            label: 'Price',
                            data: data.map(item => item.close),
                            borderColor: 'rgba(255, 255, 255, 0.5)',
                            borderWidth: 1,
                            pointRadius: 0
                        }, {
                            label: '20-Day MA',
                            data: ma20,
                            borderColor: primaryColor,
                            borderWidth: 2,
                            pointRadius: 0
                        }, {
                            label: '50-Day MA',
                            data: ma50,
                            borderColor: secondaryColor,
                            borderWidth: 2,
                            pointRadius: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                type: 'time',
                                time: {
                                    unit: 'day',
                                    tooltipFormat: 'MMM d, yyyy'
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            },
                            y: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            }
                        },
                        plugins: {
                            tooltip: {
                                mode: 'index',
                                intersect: false
                            },
                            legend: {
                                labels: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            }
                        }
                    }
                });
            }
            
            if (activeTab === 'volume' || activeTab === 'all') {
                const ctx = document.getElementById('volumeChart').getContext('2d');
                
                // Clear previous chart if it exists
                if (window.volumeChart) {
                    window.volumeChart.destroy();
                }
                
                // Create new chart
                window.volumeChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: dates,
                        datasets: [{
                            label: 'Volume',
                            data: data.map(item => item.volume),
                            backgroundColor: data.map(item => 
                                item.open > item.close ? 
                                'rgba(255, 102, 178, 0.7)' : 
                                'rgba(153, 102, 204, 0.7)'
                            ),
                            borderColor: data.map(item => 
                                item.open > item.close ? 
                                primaryColor : 
                                secondaryColor
                            ),
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                type: 'time',
                                time: {
                                    unit: 'day',
                                    tooltipFormat: 'MMM d, yyyy'
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)'
                                }
                            },
                            y: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: 'rgba(255, 255, 255, 0.7)',
                                    callback: function(value) {
                                        if (value >= 1000000) {
                                            return (value / 1000000).toFixed(1) + 'M';
                                        }
                                        return value;
                                    }
                                }
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const volume = context.parsed.y;
                                        return `Volume: ${volume.toLocaleString()}`;
                                    }
                                }
                            },
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            }
        }
        
        // Update charts when stock or date changes
        document.getElementById('stockSelect').addEventListener('change', function() {
            const activeTab = document.querySelector('.tab-button.text-primary').getAttribute('data-tab');
            renderCharts(activeTab);
        });
        
        document.getElementById('startDate').addEventListener('change', function() {
            const activeTab = document.querySelector('.tab-button.text-primary').getAttribute('data-tab');
            renderCharts(activeTab);
        });
        
        document.getElementById('endDate').addEventListener('change', function() {
            const activeTab = document.querySelector('.tab-button.text-primary').getAttribute('data-tab');
            renderCharts(activeTab);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'94cd7075473c82f7',t:'MTc0OTQzODY2Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;"></iframe>

</body></html>